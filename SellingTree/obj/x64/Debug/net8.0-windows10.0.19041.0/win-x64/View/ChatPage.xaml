<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="SellingTree.View.ChatPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SellingTree.View"
    xmlns:local2="using:SellingTree.Model"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.Resources>
        <local:HorizontalAlignmentConverter x:Key="HorizontalAlignmentConverter"/>
        <local:MarginConverter x:Key="MarginConverter"/>
        <local:MessageBackgroundConverter x:Key="MessageBackgroundConverter"/>
    </Page.Resources>

    <Grid Padding="12" >
        <!-- Cấu trúc cột -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <!-- Cột thứ nhất: thông tin người dùng -->
            <ColumnDefinition Width="*"/>
            <!-- Cột thứ hai: khung chat -->
        </Grid.ColumnDefinitions>

        <!-- Cột thứ nhất: Thông tin người dùng -->
        <StackPanel Grid.Column="0" Background="#003333" Padding="8" CornerRadius="10" Margin="0,0,12,0">
            <TextBlock Text="Danh sách khách hàng" 
            FontSize="20" 
            FontWeight="Bold" 
            Foreground="White"
            Margin="0,0,0,10"/>
            <!-- Thêm nội dung tùy ý, ví dụ danh sách bạn bè hoặc nhóm chat -->
            <ListView x:ConnectionId='10' x:Name="CustomerListView" 
    Background="#027c68" Foreground="FloralWhite"                                                     >
                <ListViewItem Content="Khách 1"/>
                <ListViewItem Content="Khách 2"/>
                <ListViewItem Content="Khách 3"/>
            </ListView>
        </StackPanel>

        <!-- Cột thứ hai: Khung chat chính -->
        <Grid Grid.Column="1">
            <!-- Cấu trúc hàng trong cột thứ hai -->
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <!-- Hàng thứ nhất: Khu vực hiển thị tin nhắn -->
                <RowDefinition Height="Auto"/>
                <!-- Hàng thứ hai: Khu vực nhập tin nhắn -->
            </Grid.RowDefinitions>

            <!-- Khu vực hiển thị tin nhắn -->
            <ListView x:ConnectionId='2' x:Name="MessagesListView"
            Grid.Row="0"
            Background="#003333"
            Margin="0,0,0,10"
            IsItemClickEnabled="False"
            SelectionMode="None"
            ItemsSource="{Binding Messages}"
            >
                <ListView.ItemTemplate>
                    <DataTemplate                            >
                        <StackPanel x:ConnectionId='6' Orientation="Horizontal"
                        Margin="{Binding Sender, Converter={StaticResource MarginConverter}}"
                        HorizontalAlignment="{Binding Sender, Converter={StaticResource HorizontalAlignmentConverter}}"
                        >
                            <Border x:ConnectionId='7'                                                                                    
                        CornerRadius="15"
                        Padding="10"
                        MaxWidth="250">
                                <StackPanel>
                                    <TextBlock x:ConnectionId='8'                        
                                    TextWrapping="Wrap"
                                    Foreground="White"/>
                                    <TextBlock x:ConnectionId='9'                          
                                    FontSize="10"
                                    Foreground="White"
                                    HorizontalAlignment="Right"
                                    Margin="0,5,0,0"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>

            <!-- Khu vực nhập tin nhắn -->
            <Grid Grid.Row="1" 
            Background="#003333" Padding="10" 
            CornerRadius="15" >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>
                <TextBox x:ConnectionId='3' 
                Grid.Column="0"   
                x:Name="MessageTextBox"
                PlaceholderText="Type here"
                Background="Transparent"
                Foreground="#b0e892"
                BorderThickness="0"
                Margin="5,0,5,0"
                VerticalAlignment="Center"
                />
                <Button x:ConnectionId='4' Grid.Column="1"
        Background="#009933"                         >
                    <FontIcon Glyph="&#xE724;" FontSize="20" Foreground="#b0e892" FontWeight="Bold" />
                </Button>
            </Grid>
        </Grid>
    </Grid>


</Page>

